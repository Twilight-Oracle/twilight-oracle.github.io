{"version":3,"file":"search.js","sources":["../node_modules/parsimmon/src/parsimmon.js","../node_modules/crystal-query/lib/parser.js","../node_modules/crystal-query/lib/messages.js","../node_modules/crystal-query/lib/terms/GenericTermHandler.js","../node_modules/crystal-query/lib/schema.js","../node_modules/crystal-query/lib/terms/NumberPropertyField.js","../node_modules/crystal-query/lib/terms/StringPropertyField.js","../node_modules/preact/dist/preact.module.js","../node_modules/htm/dist/htm.module.js","../node_modules/htm/preact/index.module.js","../src/components/ErrorDescription.js","../src/components/QueryDescription.js","../src/components/CardTypeLine.js","../src/utils.js","../src/components/CardBoxSmall.js","../src/components/SearchResultList.js","../src/search.js","../src/fields/CardTypeField.js","../node_modules/crystal-query/lib/terms/StringArrayPropertyField.js","../src/fields/CardSideField.js","../src/fields/CardPeriodField.js","../src/fields/AnyField.js","../node_modules/crystal-query/lib/terms/FieldTermHandler.js"],"sourcesContent":["\"use strict\";\n\nfunction Parsimmon(action) {\n  if (!(this instanceof Parsimmon)) {\n    return new Parsimmon(action);\n  }\n  this._ = action;\n}\n\nvar _ = Parsimmon.prototype;\n\nfunction times(n, f) {\n  var i = 0;\n  for (i; i < n; i++) {\n    f(i);\n  }\n}\n\nfunction forEach(f, arr) {\n  times(arr.length, function(i) {\n    f(arr[i], i, arr);\n  });\n}\n\nfunction reduce(f, seed, arr) {\n  forEach(function(elem, i, arr) {\n    seed = f(seed, elem, i, arr);\n  }, arr);\n  return seed;\n}\n\nfunction map(f, arr) {\n  return reduce(\n    function(acc, elem, i, a) {\n      return acc.concat([f(elem, i, a)]);\n    },\n    [],\n    arr\n  );\n}\n\nfunction lshiftBuffer(input) {\n  var asTwoBytes = reduce(\n    function(a, v, i, b) {\n      return a.concat(\n        i === b.length - 1\n          ? Buffer.from([v, 0]).readUInt16BE(0)\n          : b.readUInt16BE(i)\n      );\n    },\n    [],\n    input\n  );\n  return Buffer.from(\n    map(function(x) {\n      return ((x << 1) & 0xffff) >> 8;\n    }, asTwoBytes)\n  );\n}\n\nfunction consumeBitsFromBuffer(n, input) {\n  var state = { v: 0, buf: input };\n  times(n, function() {\n    state = {\n      v: (state.v << 1) | bitPeekBuffer(state.buf),\n      buf: lshiftBuffer(state.buf)\n    };\n  });\n  return state;\n}\n\nfunction bitPeekBuffer(input) {\n  return input[0] >> 7;\n}\n\nfunction sum(numArr) {\n  return reduce(\n    function(x, y) {\n      return x + y;\n    },\n    0,\n    numArr\n  );\n}\n\nfunction find(pred, arr) {\n  return reduce(\n    function(found, elem) {\n      return found || (pred(elem) ? elem : found);\n    },\n    null,\n    arr\n  );\n}\n\nfunction bufferExists() {\n  return typeof Buffer !== \"undefined\";\n}\n\nfunction setExists() {\n  if (Parsimmon._supportsSet !== undefined) {\n    return Parsimmon._supportsSet;\n  }\n  var exists = typeof Set !== \"undefined\";\n  Parsimmon._supportsSet = exists;\n  return exists;\n}\n\nfunction ensureBuffer() {\n  if (!bufferExists()) {\n    throw new Error(\n      \"Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.\"\n    );\n  }\n}\n\nfunction bitSeq(alignments) {\n  ensureBuffer();\n  var totalBits = sum(alignments);\n  if (totalBits % 8 !== 0) {\n    throw new Error(\n      \"The bits [\" +\n        alignments.join(\", \") +\n        \"] add up to \" +\n        totalBits +\n        \" which is not an even number of bytes; the total should be divisible by 8\"\n    );\n  }\n  var bytes = totalBits / 8;\n\n  var tooBigRange = find(function(x) {\n    return x > 48;\n  }, alignments);\n  if (tooBigRange) {\n    throw new Error(\n      tooBigRange + \" bit range requested exceeds 48 bit (6 byte) Number max.\"\n    );\n  }\n\n  return new Parsimmon(function(input, i) {\n    var newPos = bytes + i;\n    if (newPos > input.length) {\n      return makeFailure(i, bytes.toString() + \" bytes\");\n    }\n    return makeSuccess(\n      newPos,\n      reduce(\n        function(acc, bits) {\n          var state = consumeBitsFromBuffer(bits, acc.buf);\n          return {\n            coll: acc.coll.concat(state.v),\n            buf: state.buf\n          };\n        },\n        { coll: [], buf: input.slice(i, newPos) },\n        alignments\n      ).coll\n    );\n  });\n}\n\nfunction bitSeqObj(namedAlignments) {\n  ensureBuffer();\n  var seenKeys = {};\n  var totalKeys = 0;\n  var fullAlignments = map(function(item) {\n    if (isArray(item)) {\n      var pair = item;\n      if (pair.length !== 2) {\n        throw new Error(\n          \"[\" +\n            pair.join(\", \") +\n            \"] should be length 2, got length \" +\n            pair.length\n        );\n      }\n      assertString(pair[0]);\n      assertNumber(pair[1]);\n      if (Object.prototype.hasOwnProperty.call(seenKeys, pair[0])) {\n        throw new Error(\"duplicate key in bitSeqObj: \" + pair[0]);\n      }\n      seenKeys[pair[0]] = true;\n      totalKeys++;\n      return pair;\n    } else {\n      assertNumber(item);\n      return [null, item];\n    }\n  }, namedAlignments);\n  if (totalKeys < 1) {\n    throw new Error(\n      \"bitSeqObj expects at least one named pair, got [\" +\n        namedAlignments.join(\", \") +\n        \"]\"\n    );\n  }\n  var namesOnly = map(function(pair) {\n    return pair[0];\n  }, fullAlignments);\n  var alignmentsOnly = map(function(pair) {\n    return pair[1];\n  }, fullAlignments);\n\n  return bitSeq(alignmentsOnly).map(function(parsed) {\n    var namedParsed = map(function(name, i) {\n      return [name, parsed[i]];\n    }, namesOnly);\n\n    return reduce(\n      function(obj, kv) {\n        if (kv[0] !== null) {\n          obj[kv[0]] = kv[1];\n        }\n        return obj;\n      },\n      {},\n      namedParsed\n    );\n  });\n}\n\nfunction parseBufferFor(other, length) {\n  return new Parsimmon(function(input, i) {\n    ensureBuffer();\n    if (i + length > input.length) {\n      return makeFailure(i, length + \" bytes for \" + other);\n    }\n    return makeSuccess(i + length, input.slice(i, i + length));\n  });\n}\n\nfunction parseBuffer(length) {\n  return parseBufferFor(\"buffer\", length).map(function(unsafe) {\n    return Buffer.from(unsafe);\n  });\n}\n\nfunction encodedString(encoding, length) {\n  return parseBufferFor(\"string\", length).map(function(buff) {\n    return buff.toString(encoding);\n  });\n}\n\nfunction isInteger(value) {\n  return typeof value === \"number\" && Math.floor(value) === value;\n}\n\nfunction assertValidIntegerByteLengthFor(who, length) {\n  if (!isInteger(length) || length < 0 || length > 6) {\n    throw new Error(who + \" requires integer length in range [0, 6].\");\n  }\n}\n\nfunction uintBE(length) {\n  assertValidIntegerByteLengthFor(\"uintBE\", length);\n  return parseBufferFor(\"uintBE(\" + length + \")\", length).map(function(buff) {\n    return buff.readUIntBE(0, length);\n  });\n}\n\nfunction uintLE(length) {\n  assertValidIntegerByteLengthFor(\"uintLE\", length);\n  return parseBufferFor(\"uintLE(\" + length + \")\", length).map(function(buff) {\n    return buff.readUIntLE(0, length);\n  });\n}\n\nfunction intBE(length) {\n  assertValidIntegerByteLengthFor(\"intBE\", length);\n  return parseBufferFor(\"intBE(\" + length + \")\", length).map(function(buff) {\n    return buff.readIntBE(0, length);\n  });\n}\n\nfunction intLE(length) {\n  assertValidIntegerByteLengthFor(\"intLE\", length);\n  return parseBufferFor(\"intLE(\" + length + \")\", length).map(function(buff) {\n    return buff.readIntLE(0, length);\n  });\n}\n\nfunction floatBE() {\n  return parseBufferFor(\"floatBE\", 4).map(function(buff) {\n    return buff.readFloatBE(0);\n  });\n}\n\nfunction floatLE() {\n  return parseBufferFor(\"floatLE\", 4).map(function(buff) {\n    return buff.readFloatLE(0);\n  });\n}\n\nfunction doubleBE() {\n  return parseBufferFor(\"doubleBE\", 8).map(function(buff) {\n    return buff.readDoubleBE(0);\n  });\n}\n\nfunction doubleLE() {\n  return parseBufferFor(\"doubleLE\", 8).map(function(buff) {\n    return buff.readDoubleLE(0);\n  });\n}\n\nfunction toArray(arrLike) {\n  return Array.prototype.slice.call(arrLike);\n}\n// -*- Helpers -*-\n\nfunction isParser(obj) {\n  return obj instanceof Parsimmon;\n}\n\nfunction isArray(x) {\n  return {}.toString.call(x) === \"[object Array]\";\n}\n\nfunction isBuffer(x) {\n  /* global Buffer */\n  return bufferExists() && Buffer.isBuffer(x);\n}\n\nfunction makeSuccess(index, value) {\n  return {\n    status: true,\n    index: index,\n    value: value,\n    furthest: -1,\n    expected: []\n  };\n}\n\nfunction makeFailure(index, expected) {\n  if (!isArray(expected)) {\n    expected = [expected];\n  }\n  return {\n    status: false,\n    index: -1,\n    value: null,\n    furthest: index,\n    expected: expected\n  };\n}\n\nfunction mergeReplies(result, last) {\n  if (!last) {\n    return result;\n  }\n  if (result.furthest > last.furthest) {\n    return result;\n  }\n  var expected =\n    result.furthest === last.furthest\n      ? union(result.expected, last.expected)\n      : last.expected;\n  return {\n    status: result.status,\n    index: result.index,\n    value: result.value,\n    furthest: last.furthest,\n    expected: expected\n  };\n}\n\n// Hold a simple memoize for the last value\nvar lastLineColumnIndex = {};\nfunction makeLineColumnIndex(input, i) {\n  if (isBuffer(input)) {\n    return {\n      offset: i,\n      line: -1,\n      column: -1\n    };\n  }\n  // if we are calling this function with the same arguments as last time\n  // return the memoized value to prevent expensive processing below\n  if (lastLineColumnIndex.input === input && lastLineColumnIndex.i === i) {\n    return lastLineColumnIndex.value;\n  }\n  var lines = input.slice(0, i).split(\"\\n\");\n  // Note that unlike the character offset, the line and column offsets are\n  // 1-based.\n  var lineWeAreUpTo = lines.length;\n  var columnWeAreUpTo = lines[lines.length - 1].length + 1;\n  var value = {\n    offset: i,\n    line: lineWeAreUpTo,\n    column: columnWeAreUpTo\n  };\n  lastLineColumnIndex.input = input;\n  lastLineColumnIndex.i = i;\n  lastLineColumnIndex.value = value;\n  return value;\n}\n\n// Returns the sorted set union of two arrays of strings\nfunction union(xs, ys) {\n  // for newer browsers/node we can improve performance by using\n  // modern JS\n  if (setExists() && Array.from) {\n    // eslint-disable-next-line no-undef\n    var set = new Set(xs);\n    for (var y = 0; y < ys.length; y++) {\n      set.add(ys[y]);\n    }\n    var arr = Array.from(set);\n    arr.sort();\n    return arr;\n  }\n  var obj = {};\n  for (var i = 0; i < xs.length; i++) {\n    obj[xs[i]] = true;\n  }\n  for (var j = 0; j < ys.length; j++) {\n    obj[ys[j]] = true;\n  }\n  var keys = [];\n  for (var k in obj) {\n    if ({}.hasOwnProperty.call(obj, k)) {\n      keys.push(k);\n    }\n  }\n  keys.sort();\n  return keys;\n}\n\nfunction assertParser(p) {\n  if (!isParser(p)) {\n    throw new Error(\"not a parser: \" + p);\n  }\n}\n\nfunction get(input, i) {\n  if (typeof input === \"string\") {\n    return input.charAt(i);\n  }\n  return input[i];\n}\n\n// TODO[ES5]: Switch to Array.isArray eventually.\nfunction assertArray(x) {\n  if (!isArray(x)) {\n    throw new Error(\"not an array: \" + x);\n  }\n}\n\nfunction assertNumber(x) {\n  if (typeof x !== \"number\") {\n    throw new Error(\"not a number: \" + x);\n  }\n}\n\nfunction assertRegexp(x) {\n  if (!(x instanceof RegExp)) {\n    throw new Error(\"not a regexp: \" + x);\n  }\n  var f = flags(x);\n  for (var i = 0; i < f.length; i++) {\n    var c = f.charAt(i);\n    // Only allow regexp flags [imu] for now, since [g] and [y] specifically\n    // mess up Parsimmon. If more non-stateful regexp flags are added in the\n    // future, this will need to be revisited.\n    if (c !== \"i\" && c !== \"m\" && c !== \"u\") {\n      throw new Error('unsupported regexp flag \"' + c + '\": ' + x);\n    }\n  }\n}\n\nfunction assertFunction(x) {\n  if (typeof x !== \"function\") {\n    throw new Error(\"not a function: \" + x);\n  }\n}\n\nfunction assertString(x) {\n  if (typeof x !== \"string\") {\n    throw new Error(\"not a string: \" + x);\n  }\n}\n\n// -*- Error Formatting -*-\n\nvar linesBeforeStringError = 2;\nvar linesAfterStringError = 3;\nvar bytesPerLine = 8;\nvar bytesBefore = bytesPerLine * 5;\nvar bytesAfter = bytesPerLine * 4;\nvar defaultLinePrefix = \"  \";\n\nfunction repeat(string, amount) {\n  return new Array(amount + 1).join(string);\n}\n\nfunction formatExpected(expected) {\n  if (expected.length === 1) {\n    return \"Expected:\\n\\n\" + expected[0];\n  }\n  return \"Expected one of the following: \\n\\n\" + expected.join(\", \");\n}\n\nfunction leftPad(str, pad, char) {\n  var add = pad - str.length;\n  if (add <= 0) {\n    return str;\n  }\n  return repeat(char, add) + str;\n}\n\nfunction toChunks(arr, chunkSize) {\n  var length = arr.length;\n  var chunks = [];\n  var chunkIndex = 0;\n\n  if (length <= chunkSize) {\n    return [arr.slice()];\n  }\n\n  for (var i = 0; i < length; i++) {\n    if (!chunks[chunkIndex]) {\n      chunks.push([]);\n    }\n\n    chunks[chunkIndex].push(arr[i]);\n\n    if ((i + 1) % chunkSize === 0) {\n      chunkIndex++;\n    }\n  }\n\n  return chunks;\n}\n\n// Get a range of indexes including `i`-th element and `before` and `after` amount of elements from `arr`.\nfunction rangeFromIndexAndOffsets(i, before, after, length) {\n  return {\n    // Guard against the negative upper bound for lines included in the output.\n    from: i - before > 0 ? i - before : 0,\n    to: i + after > length ? length : i + after\n  };\n}\n\nfunction byteRangeToRange(byteRange) {\n  // Exception for inputs smaller than `bytesPerLine`\n  if (byteRange.from === 0 && byteRange.to === 1) {\n    return {\n      from: byteRange.from,\n      to: byteRange.to\n    };\n  }\n\n  return {\n    from: byteRange.from / bytesPerLine,\n    // Round `to`, so we don't get float if the amount of bytes is not divisible by `bytesPerLine`\n    to: Math.floor(byteRange.to / bytesPerLine)\n  };\n}\n\nfunction formatGot(input, error) {\n  var index = error.index;\n  var i = index.offset;\n\n  var verticalMarkerLength = 1;\n  var column;\n  var lineWithErrorIndex;\n  var lines;\n  var lineRange;\n  var lastLineNumberLabelLength;\n\n  if (i === input.length) {\n    return \"Got the end of the input\";\n  }\n\n  if (isBuffer(input)) {\n    var byteLineWithErrorIndex = i - (i % bytesPerLine);\n    var columnByteIndex = i - byteLineWithErrorIndex;\n    var byteRange = rangeFromIndexAndOffsets(\n      byteLineWithErrorIndex,\n      bytesBefore,\n      bytesAfter + bytesPerLine,\n      input.length\n    );\n    var bytes = input.slice(byteRange.from, byteRange.to);\n    var bytesInChunks = toChunks(bytes.toJSON().data, bytesPerLine);\n\n    var byteLines = map(function(byteRow) {\n      return map(function(byteValue) {\n        // Prefix byte values with a `0` if they are shorter than 2 characters.\n        return leftPad(byteValue.toString(16), 2, \"0\");\n      }, byteRow);\n    }, bytesInChunks);\n\n    lineRange = byteRangeToRange(byteRange);\n    lineWithErrorIndex = byteLineWithErrorIndex / bytesPerLine;\n    column = columnByteIndex * 3;\n\n    // Account for an extra space.\n    if (columnByteIndex >= 4) {\n      column += 1;\n    }\n\n    verticalMarkerLength = 2;\n    lines = map(function(byteLine) {\n      return byteLine.length <= 4\n        ? byteLine.join(\" \")\n        : byteLine.slice(0, 4).join(\" \") + \"  \" + byteLine.slice(4).join(\" \");\n    }, byteLines);\n    lastLineNumberLabelLength = (\n      (lineRange.to > 0 ? lineRange.to - 1 : lineRange.to) * 8\n    ).toString(16).length;\n\n    if (lastLineNumberLabelLength < 2) {\n      lastLineNumberLabelLength = 2;\n    }\n  } else {\n    var inputLines = input.split(/\\r\\n|[\\n\\r\\u2028\\u2029]/);\n    column = index.column - 1;\n    lineWithErrorIndex = index.line - 1;\n    lineRange = rangeFromIndexAndOffsets(\n      lineWithErrorIndex,\n      linesBeforeStringError,\n      linesAfterStringError,\n      inputLines.length\n    );\n\n    lines = inputLines.slice(lineRange.from, lineRange.to);\n    lastLineNumberLabelLength = lineRange.to.toString().length;\n  }\n\n  var lineWithErrorCurrentIndex = lineWithErrorIndex - lineRange.from;\n\n  if (isBuffer(input)) {\n    lastLineNumberLabelLength = (\n      (lineRange.to > 0 ? lineRange.to - 1 : lineRange.to) * 8\n    ).toString(16).length;\n\n    if (lastLineNumberLabelLength < 2) {\n      lastLineNumberLabelLength = 2;\n    }\n  }\n\n  var linesWithLineNumbers = reduce(\n    function(acc, lineSource, index) {\n      var isLineWithError = index === lineWithErrorCurrentIndex;\n      var prefix = isLineWithError ? \"> \" : defaultLinePrefix;\n      var lineNumberLabel;\n\n      if (isBuffer(input)) {\n        lineNumberLabel = leftPad(\n          ((lineRange.from + index) * 8).toString(16),\n          lastLineNumberLabelLength,\n          \"0\"\n        );\n      } else {\n        lineNumberLabel = leftPad(\n          (lineRange.from + index + 1).toString(),\n          lastLineNumberLabelLength,\n          \" \"\n        );\n      }\n\n      return [].concat(\n        acc,\n        [prefix + lineNumberLabel + \" | \" + lineSource],\n        isLineWithError\n          ? [\n              defaultLinePrefix +\n                repeat(\" \", lastLineNumberLabelLength) +\n                \" | \" +\n                leftPad(\"\", column, \" \") +\n                repeat(\"^\", verticalMarkerLength)\n            ]\n          : []\n      );\n    },\n    [],\n    lines\n  );\n\n  return linesWithLineNumbers.join(\"\\n\");\n}\n\nfunction formatError(input, error) {\n  return [\n    \"\\n\",\n    \"-- PARSING FAILED \" + repeat(\"-\", 50),\n    \"\\n\\n\",\n    formatGot(input, error),\n    \"\\n\\n\",\n    formatExpected(error.expected),\n    \"\\n\"\n  ].join(\"\");\n}\n\nfunction flags(re) {\n  var s = \"\" + re;\n  return s.slice(s.lastIndexOf(\"/\") + 1);\n}\n\nfunction anchoredRegexp(re) {\n  return RegExp(\"^(?:\" + re.source + \")\", flags(re));\n}\n\n// -*- Combinators -*-\n\nfunction seq() {\n  var parsers = [].slice.call(arguments);\n  var numParsers = parsers.length;\n  for (var j = 0; j < numParsers; j += 1) {\n    assertParser(parsers[j]);\n  }\n  return Parsimmon(function(input, i) {\n    var result;\n    var accum = new Array(numParsers);\n    for (var j = 0; j < numParsers; j += 1) {\n      result = mergeReplies(parsers[j]._(input, i), result);\n      if (!result.status) {\n        return result;\n      }\n      accum[j] = result.value;\n      i = result.index;\n    }\n    return mergeReplies(makeSuccess(i, accum), result);\n  });\n}\n\nfunction seqObj() {\n  var seenKeys = {};\n  var totalKeys = 0;\n  var parsers = toArray(arguments);\n  var numParsers = parsers.length;\n  for (var j = 0; j < numParsers; j += 1) {\n    var p = parsers[j];\n    if (isParser(p)) {\n      continue;\n    }\n    if (isArray(p)) {\n      var isWellFormed =\n        p.length === 2 && typeof p[0] === \"string\" && isParser(p[1]);\n      if (isWellFormed) {\n        var key = p[0];\n        if (Object.prototype.hasOwnProperty.call(seenKeys, key)) {\n          throw new Error(\"seqObj: duplicate key \" + key);\n        }\n        seenKeys[key] = true;\n        totalKeys++;\n        continue;\n      }\n    }\n    throw new Error(\n      \"seqObj arguments must be parsers or [string, parser] array pairs.\"\n    );\n  }\n  if (totalKeys === 0) {\n    throw new Error(\"seqObj expects at least one named parser, found zero\");\n  }\n  return Parsimmon(function(input, i) {\n    var result;\n    var accum = {};\n    for (var j = 0; j < numParsers; j += 1) {\n      var name;\n      var parser;\n      if (isArray(parsers[j])) {\n        name = parsers[j][0];\n        parser = parsers[j][1];\n      } else {\n        name = null;\n        parser = parsers[j];\n      }\n      result = mergeReplies(parser._(input, i), result);\n      if (!result.status) {\n        return result;\n      }\n      if (name) {\n        accum[name] = result.value;\n      }\n      i = result.index;\n    }\n    return mergeReplies(makeSuccess(i, accum), result);\n  });\n}\n\nfunction seqMap() {\n  var args = [].slice.call(arguments);\n  if (args.length === 0) {\n    throw new Error(\"seqMap needs at least one argument\");\n  }\n  var mapper = args.pop();\n  assertFunction(mapper);\n  return seq.apply(null, args).map(function(results) {\n    return mapper.apply(null, results);\n  });\n}\n\n// TODO[ES5]: Revisit this with Object.keys and .bind.\nfunction createLanguage(parsers) {\n  var language = {};\n  for (var key in parsers) {\n    if ({}.hasOwnProperty.call(parsers, key)) {\n      (function(key) {\n        var func = function() {\n          return parsers[key](language);\n        };\n        language[key] = lazy(func);\n      })(key);\n    }\n  }\n  return language;\n}\n\nfunction alt() {\n  var parsers = [].slice.call(arguments);\n  var numParsers = parsers.length;\n  if (numParsers === 0) {\n    return fail(\"zero alternates\");\n  }\n  for (var j = 0; j < numParsers; j += 1) {\n    assertParser(parsers[j]);\n  }\n  return Parsimmon(function(input, i) {\n    var result;\n    for (var j = 0; j < parsers.length; j += 1) {\n      result = mergeReplies(parsers[j]._(input, i), result);\n      if (result.status) {\n        return result;\n      }\n    }\n    return result;\n  });\n}\n\nfunction sepBy(parser, separator) {\n  // Argument asserted by sepBy1\n  return sepBy1(parser, separator).or(succeed([]));\n}\n\nfunction sepBy1(parser, separator) {\n  assertParser(parser);\n  assertParser(separator);\n  var pairs = separator.then(parser).many();\n  return seqMap(parser, pairs, function(r, rs) {\n    return [r].concat(rs);\n  });\n}\n\n// -*- Core Parsing Methods -*-\n\n_.parse = function(input) {\n  if (typeof input !== \"string\" && !isBuffer(input)) {\n    throw new Error(\n      \".parse must be called with a string or Buffer as its argument\"\n    );\n  }\n  var result = this.skip(eof)._(input, 0);\n  if (result.status) {\n    return {\n      status: true,\n      value: result.value\n    };\n  }\n  return {\n    status: false,\n    index: makeLineColumnIndex(input, result.furthest),\n    expected: result.expected\n  };\n};\n\n// -*- Other Methods -*-\n\n_.tryParse = function(str) {\n  var result = this.parse(str);\n  if (result.status) {\n    return result.value;\n  } else {\n    var msg = formatError(str, result);\n    var err = new Error(msg);\n    err.type = \"ParsimmonError\";\n    err.result = result;\n    throw err;\n  }\n};\n\n_.assert = function(condition, errorMessage) {\n  return this.chain(function(value) {\n    return condition(value) ? succeed(value) : fail(errorMessage);\n  });\n};\n\n_.or = function(alternative) {\n  return alt(this, alternative);\n};\n\n_.trim = function(parser) {\n  return this.wrap(parser, parser);\n};\n\n_.wrap = function(leftParser, rightParser) {\n  return seqMap(leftParser, this, rightParser, function(left, middle) {\n    return middle;\n  });\n};\n\n_.thru = function(wrapper) {\n  return wrapper(this);\n};\n\n_.then = function(next) {\n  assertParser(next);\n  return seq(this, next).map(function(results) {\n    return results[1];\n  });\n};\n\n_.many = function() {\n  var self = this;\n\n  return Parsimmon(function(input, i) {\n    var accum = [];\n    var result = undefined;\n\n    for (;;) {\n      result = mergeReplies(self._(input, i), result);\n      if (result.status) {\n        if (i === result.index) {\n          throw new Error(\n            \"infinite loop detected in .many() parser --- calling .many() on \" +\n              \"a parser which can accept zero characters is usually the cause\"\n          );\n        }\n        i = result.index;\n        accum.push(result.value);\n      } else {\n        return mergeReplies(makeSuccess(i, accum), result);\n      }\n    }\n  });\n};\n\n_.tieWith = function(separator) {\n  assertString(separator);\n  return this.map(function(args) {\n    assertArray(args);\n    if (args.length) {\n      assertString(args[0]);\n      var s = args[0];\n      for (var i = 1; i < args.length; i++) {\n        assertString(args[i]);\n        s += separator + args[i];\n      }\n      return s;\n    } else {\n      return \"\";\n    }\n  });\n};\n\n_.tie = function() {\n  return this.tieWith(\"\");\n};\n\n_.times = function(min, max) {\n  var self = this;\n  if (arguments.length < 2) {\n    max = min;\n  }\n  assertNumber(min);\n  assertNumber(max);\n  return Parsimmon(function(input, i) {\n    var accum = [];\n    var result = undefined;\n    var prevResult = undefined;\n    for (var times = 0; times < min; times += 1) {\n      result = self._(input, i);\n      prevResult = mergeReplies(result, prevResult);\n      if (result.status) {\n        i = result.index;\n        accum.push(result.value);\n      } else {\n        return prevResult;\n      }\n    }\n    for (; times < max; times += 1) {\n      result = self._(input, i);\n      prevResult = mergeReplies(result, prevResult);\n      if (result.status) {\n        i = result.index;\n        accum.push(result.value);\n      } else {\n        break;\n      }\n    }\n    return mergeReplies(makeSuccess(i, accum), prevResult);\n  });\n};\n\n_.result = function(res) {\n  return this.map(function() {\n    return res;\n  });\n};\n\n_.atMost = function(n) {\n  return this.times(0, n);\n};\n\n_.atLeast = function(n) {\n  return seqMap(this.times(n), this.many(), function(init, rest) {\n    return init.concat(rest);\n  });\n};\n\n_.map = function(fn) {\n  assertFunction(fn);\n  var self = this;\n  return Parsimmon(function(input, i) {\n    var result = self._(input, i);\n    if (!result.status) {\n      return result;\n    }\n    return mergeReplies(makeSuccess(result.index, fn(result.value)), result);\n  });\n};\n\n_.contramap = function(fn) {\n  assertFunction(fn);\n  var self = this;\n  return Parsimmon(function(input, i) {\n    var result = self.parse(fn(input.slice(i)));\n    if (!result.status) {\n      return result;\n    }\n    return makeSuccess(i + input.length, result.value);\n  });\n};\n\n_.promap = function(f, g) {\n  assertFunction(f);\n  assertFunction(g);\n  return this.contramap(f).map(g);\n};\n\n_.skip = function(next) {\n  return seq(this, next).map(function(results) {\n    return results[0];\n  });\n};\n\n_.mark = function() {\n  return seqMap(index, this, index, function(start, value, end) {\n    return {\n      start: start,\n      value: value,\n      end: end\n    };\n  });\n};\n\n_.node = function(name) {\n  return seqMap(index, this, index, function(start, value, end) {\n    return {\n      name: name,\n      value: value,\n      start: start,\n      end: end\n    };\n  });\n};\n\n_.sepBy = function(separator) {\n  return sepBy(this, separator);\n};\n\n_.sepBy1 = function(separator) {\n  return sepBy1(this, separator);\n};\n\n_.lookahead = function(x) {\n  return this.skip(lookahead(x));\n};\n\n_.notFollowedBy = function(x) {\n  return this.skip(notFollowedBy(x));\n};\n\n_.desc = function(expected) {\n  if (!isArray(expected)) {\n    expected = [expected];\n  }\n  var self = this;\n  return Parsimmon(function(input, i) {\n    var reply = self._(input, i);\n    if (!reply.status) {\n      reply.expected = expected;\n    }\n    return reply;\n  });\n};\n\n_.fallback = function(result) {\n  return this.or(succeed(result));\n};\n\n_.ap = function(other) {\n  return seqMap(other, this, function(f, x) {\n    return f(x);\n  });\n};\n\n_.chain = function(f) {\n  var self = this;\n  return Parsimmon(function(input, i) {\n    var result = self._(input, i);\n    if (!result.status) {\n      return result;\n    }\n    var nextParser = f(result.value);\n    return mergeReplies(nextParser._(input, result.index), result);\n  });\n};\n\n// -*- Constructors -*-\n\nfunction string(str) {\n  assertString(str);\n  var expected = \"'\" + str + \"'\";\n  return Parsimmon(function(input, i) {\n    var j = i + str.length;\n    var head = input.slice(i, j);\n    if (head === str) {\n      return makeSuccess(j, head);\n    } else {\n      return makeFailure(i, expected);\n    }\n  });\n}\n\nfunction byte(b) {\n  ensureBuffer();\n  assertNumber(b);\n  if (b > 0xff) {\n    throw new Error(\n      \"Value specified to byte constructor (\" +\n        b +\n        \"=0x\" +\n        b.toString(16) +\n        \") is larger in value than a single byte.\"\n    );\n  }\n  var expected = (b > 0xf ? \"0x\" : \"0x0\") + b.toString(16);\n  return Parsimmon(function(input, i) {\n    var head = get(input, i);\n    if (head === b) {\n      return makeSuccess(i + 1, head);\n    } else {\n      return makeFailure(i, expected);\n    }\n  });\n}\n\nfunction regexp(re, group) {\n  assertRegexp(re);\n  if (arguments.length >= 2) {\n    assertNumber(group);\n  } else {\n    group = 0;\n  }\n  var anchored = anchoredRegexp(re);\n  var expected = \"\" + re;\n  return Parsimmon(function(input, i) {\n    var match = anchored.exec(input.slice(i));\n    if (match) {\n      if (0 <= group && group <= match.length) {\n        var fullMatch = match[0];\n        var groupMatch = match[group];\n        return makeSuccess(i + fullMatch.length, groupMatch);\n      }\n      var message =\n        \"valid match group (0 to \" + match.length + \") in \" + expected;\n      return makeFailure(i, message);\n    }\n    return makeFailure(i, expected);\n  });\n}\n\nfunction succeed(value) {\n  return Parsimmon(function(input, i) {\n    return makeSuccess(i, value);\n  });\n}\n\nfunction fail(expected) {\n  return Parsimmon(function(input, i) {\n    return makeFailure(i, expected);\n  });\n}\n\nfunction lookahead(x) {\n  if (isParser(x)) {\n    return Parsimmon(function(input, i) {\n      var result = x._(input, i);\n      result.index = i;\n      result.value = \"\";\n      return result;\n    });\n  } else if (typeof x === \"string\") {\n    return lookahead(string(x));\n  } else if (x instanceof RegExp) {\n    return lookahead(regexp(x));\n  }\n  throw new Error(\"not a string, regexp, or parser: \" + x);\n}\n\nfunction notFollowedBy(parser) {\n  assertParser(parser);\n  return Parsimmon(function(input, i) {\n    var result = parser._(input, i);\n    var text = input.slice(i, result.index);\n    return result.status\n      ? makeFailure(i, 'not \"' + text + '\"')\n      : makeSuccess(i, null);\n  });\n}\n\nfunction test(predicate) {\n  assertFunction(predicate);\n  return Parsimmon(function(input, i) {\n    var char = get(input, i);\n    if (i < input.length && predicate(char)) {\n      return makeSuccess(i + 1, char);\n    } else {\n      return makeFailure(i, \"a character/byte matching \" + predicate);\n    }\n  });\n}\n\nfunction oneOf(str) {\n  var expected = str.split(\"\");\n  for (var idx = 0; idx < expected.length; idx++) {\n    expected[idx] = \"'\" + expected[idx] + \"'\";\n  }\n  return test(function(ch) {\n    return str.indexOf(ch) >= 0;\n  }).desc(expected);\n}\n\nfunction noneOf(str) {\n  return test(function(ch) {\n    return str.indexOf(ch) < 0;\n  }).desc(\"none of '\" + str + \"'\");\n}\n\nfunction custom(parsingFunction) {\n  return Parsimmon(parsingFunction(makeSuccess, makeFailure));\n}\n\n// TODO[ES5]: Improve error message using JSON.stringify eventually.\nfunction range(begin, end) {\n  return test(function(ch) {\n    return begin <= ch && ch <= end;\n  }).desc(begin + \"-\" + end);\n}\n\nfunction takeWhile(predicate) {\n  assertFunction(predicate);\n\n  return Parsimmon(function(input, i) {\n    var j = i;\n    while (j < input.length && predicate(get(input, j))) {\n      j++;\n    }\n    return makeSuccess(j, input.slice(i, j));\n  });\n}\n\nfunction lazy(desc, f) {\n  if (arguments.length < 2) {\n    f = desc;\n    desc = undefined;\n  }\n\n  var parser = Parsimmon(function(input, i) {\n    parser._ = f()._;\n    return parser._(input, i);\n  });\n\n  if (desc) {\n    return parser.desc(desc);\n  } else {\n    return parser;\n  }\n}\n\n// -*- Fantasy Land Extras -*-\n\nfunction empty() {\n  return fail(\"fantasy-land/empty\");\n}\n\n_.concat = _.or;\n_.empty = empty;\n_.of = succeed;\n_[\"fantasy-land/ap\"] = _.ap;\n_[\"fantasy-land/chain\"] = _.chain;\n_[\"fantasy-land/concat\"] = _.concat;\n_[\"fantasy-land/empty\"] = _.empty;\n_[\"fantasy-land/of\"] = _.of;\n_[\"fantasy-land/map\"] = _.map;\n\n// -*- Base Parsers -*-\n\nvar index = Parsimmon(function(input, i) {\n  return makeSuccess(i, makeLineColumnIndex(input, i));\n});\n\nvar any = Parsimmon(function(input, i) {\n  if (i >= input.length) {\n    return makeFailure(i, \"any character/byte\");\n  }\n  return makeSuccess(i + 1, get(input, i));\n});\n\nvar all = Parsimmon(function(input, i) {\n  return makeSuccess(input.length, input.slice(i));\n});\n\nvar eof = Parsimmon(function(input, i) {\n  if (i < input.length) {\n    return makeFailure(i, \"EOF\");\n  }\n  return makeSuccess(i, null);\n});\n\nvar digit = regexp(/[0-9]/).desc(\"a digit\");\nvar digits = regexp(/[0-9]*/).desc(\"optional digits\");\nvar letter = regexp(/[a-z]/i).desc(\"a letter\");\nvar letters = regexp(/[a-z]*/i).desc(\"optional letters\");\nvar optWhitespace = regexp(/\\s*/).desc(\"optional whitespace\");\nvar whitespace = regexp(/\\s+/).desc(\"whitespace\");\nvar cr = string(\"\\r\");\nvar lf = string(\"\\n\");\nvar crlf = string(\"\\r\\n\");\nvar newline = alt(crlf, lf, cr).desc(\"newline\");\nvar end = alt(newline, eof);\n\nParsimmon.all = all;\nParsimmon.alt = alt;\nParsimmon.any = any;\nParsimmon.cr = cr;\nParsimmon.createLanguage = createLanguage;\nParsimmon.crlf = crlf;\nParsimmon.custom = custom;\nParsimmon.digit = digit;\nParsimmon.digits = digits;\nParsimmon.empty = empty;\nParsimmon.end = end;\nParsimmon.eof = eof;\nParsimmon.fail = fail;\nParsimmon.formatError = formatError;\nParsimmon.index = index;\nParsimmon.isParser = isParser;\nParsimmon.lazy = lazy;\nParsimmon.letter = letter;\nParsimmon.letters = letters;\nParsimmon.lf = lf;\nParsimmon.lookahead = lookahead;\nParsimmon.makeFailure = makeFailure;\nParsimmon.makeSuccess = makeSuccess;\nParsimmon.newline = newline;\nParsimmon.noneOf = noneOf;\nParsimmon.notFollowedBy = notFollowedBy;\nParsimmon.of = succeed;\nParsimmon.oneOf = oneOf;\nParsimmon.optWhitespace = optWhitespace;\nParsimmon.Parser = Parsimmon;\nParsimmon.range = range;\nParsimmon.regex = regexp;\nParsimmon.regexp = regexp;\nParsimmon.sepBy = sepBy;\nParsimmon.sepBy1 = sepBy1;\nParsimmon.seq = seq;\nParsimmon.seqMap = seqMap;\nParsimmon.seqObj = seqObj;\nParsimmon.string = string;\nParsimmon.succeed = succeed;\nParsimmon.takeWhile = takeWhile;\nParsimmon.test = test;\nParsimmon.whitespace = whitespace;\nParsimmon[\"fantasy-land/empty\"] = empty;\nParsimmon[\"fantasy-land/of\"] = succeed;\n\nParsimmon.Binary = {\n  bitSeq: bitSeq,\n  bitSeqObj: bitSeqObj,\n  byte: byte,\n  buffer: parseBuffer,\n  encodedString: encodedString,\n  uintBE: uintBE,\n  uint8BE: uintBE(1),\n  uint16BE: uintBE(2),\n  uint32BE: uintBE(4),\n  uintLE: uintLE,\n  uint8LE: uintLE(1),\n  uint16LE: uintLE(2),\n  uint32LE: uintLE(4),\n  intBE: intBE,\n  int8BE: intBE(1),\n  int16BE: intBE(2),\n  int32BE: intBE(4),\n  intLE: intLE,\n  int8LE: intLE(1),\n  int16LE: intLE(2),\n  int32LE: intLE(4),\n  floatBE: floatBE(),\n  floatLE: floatLE(),\n  doubleBE: doubleBE(),\n  doubleLE: doubleLE()\n};\n\nmodule.exports = Parsimmon;\n","import parsimmon from 'parsimmon';\nexport function makeParser(value) {\n  // TODO: also accept parsimmon parsers (test with Parsimmon.isParser()),\n  // regexes (test how?)\n  return parsimmon.string(value);\n}\nexport class Parser {\n  constructor() {\n    var {\n      operators = [':', '>=', '<=', '<', '=', '>']\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.language = parsimmon.createLanguage({\n      operator: () => parsimmon.alt(...operators.map(makeParser)),\n      and: l => l.word.assert(word => word === 'and', 'and'),\n      or: l => l.word.assert(word => word === 'or', 'or'),\n      not: l => l.word.assert(word => word === 'not', 'not'),\n      keyword: l => parsimmon.alt(l.and, l.or, l.not),\n      lparen: () => parsimmon.string('('),\n      rparen: () => parsimmon.string(')'),\n      wordTerminator: l => parsimmon.alt(l.lparen, l.rparen, l.quote, l.operator, parsimmon.whitespace),\n      word: l => parsimmon.notFollowedBy(l.wordTerminator).then(parsimmon.any).atLeast(1).tie(),\n      identifier: l => l.word.assert(word => !l.keyword.parse(word).status, 'an identifier'),\n      escaped: () => parsimmon.string('\\\\').then(parsimmon.any),\n      phrase: l => parsimmon.alt(l.escaped, parsimmon.noneOf('\"')).many().tie(),\n      quote: () => parsimmon.string('\"'),\n      quoted: l => l.phrase.wrap(l.quote, l.quote.desc('closing \"')),\n      value: l => parsimmon.alt(l.identifier, l.quoted),\n      term: l => parsimmon.alt(parsimmon.seq(l.identifier, l.operator, l.value), parsimmon.seq(parsimmon.of(''), l.operator, l.value), parsimmon.seq(parsimmon.of(''), parsimmon.of(''), l.value), parsimmon.seq(parsimmon.of(''), l.operator, parsimmon.of(''))).node('Term'),\n      nil: () => parsimmon.optWhitespace.result(['', '', '']).node('Term'),\n      parenthetical: l => l.expression.wrap(l.lparen, l.rparen.desc('closing )')).node('Parenthetical'),\n      basic: l => parsimmon.alt(l.term, l.parenthetical),\n      negation: l => parsimmon.alt(l.not.then(parsimmon.optWhitespace.then(l.negation).or(l.nil)).node('Not'), l.basic),\n      conjunction: l => parsimmon.alt(parsimmon.seq(l.negation.or(l.nil).skip(parsimmon.optWhitespace).skip(l.and), parsimmon.optWhitespace.then(l.conjunction).or(l.nil)).node('And'), parsimmon.seq(l.negation.skip(parsimmon.optWhitespace), l.conjunction).node('And'), l.negation),\n      disjunction: l => parsimmon.alt(parsimmon.seq(l.conjunction.or(l.nil).skip(parsimmon.optWhitespace).skip(l.or), parsimmon.optWhitespace.then(l.disjunction).or(l.nil)).node('Or'), l.conjunction),\n      expression: l => parsimmon.alt(l.disjunction.trim(parsimmon.optWhitespace), l.nil),\n      query: l => l.expression\n    });\n  }\n\n  parse(input) {\n    return this.language.query.parse(input);\n  }\n\n}\n//# sourceMappingURL=parser.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport function fieldGeneric(_ref) {\n  var {\n    name,\n    operator,\n    value,\n    negated\n  } = _ref;\n  return \"\".concat(negated ? 'not ' : '').concat(name).concat(operator, \"\\\"\").concat(value, \"\\\"\");\n}\nexport function conjunction(_ref2) {\n  var {\n    left,\n    right\n  } = _ref2;\n  return \"\".concat(left, \" and \").concat(right);\n}\nexport function disjunction(_ref3) {\n  var {\n    left,\n    right\n  } = _ref3;\n  return \"\".concat(left, \" or \").concat(right);\n}\nexport function parenthetical(_ref4) {\n  var {\n    expression,\n    negated\n  } = _ref4;\n  return \"\".concat(negated ? 'not ' : '', \"(\").concat(expression, \")\");\n}\nexport function fieldContains(_ref5) {\n  var {\n    name,\n    plural,\n    value,\n    negated\n  } = _ref5;\n  var verb;\n\n  if (plural && negated) {\n    verb = 'do not contain';\n  } else if (plural && !negated) {\n    verb = 'contain';\n  } else if (!plural && negated) {\n    verb = 'does not contain';\n  } else if (!plural && !negated) {\n    verb = 'contains';\n  }\n\n  return \"\".concat(name, \" \").concat(verb, \" \").concat(value);\n}\nexport function fieldEquals(_ref6) {\n  var {\n    name,\n    plural,\n    value,\n    negated\n  } = _ref6;\n  var verb;\n\n  if (plural && negated) {\n    verb = 'do not equal';\n  } else if (plural && !negated) {\n    verb = 'equal';\n  } else if (!plural && negated) {\n    verb = 'does not equal';\n  } else if (!plural && !negated) {\n    verb = 'equals';\n  }\n\n  return \"\".concat(name, \" \").concat(verb, \" \").concat(value);\n}\n\nfunction fieldSimple(_ref7) {\n  var {\n    name,\n    plural,\n    value,\n    negated,\n    relation\n  } = _ref7;\n  return \"\".concat(name, \" \").concat(plural ? 'are' : 'is').concat(negated ? ' not' : '', \" \").concat(relation, \" \").concat(value);\n}\n\nexport function fieldGreaterThan(args) {\n  return fieldSimple(_objectSpread(_objectSpread({}, args), {}, {\n    relation: 'greater than'\n  }));\n}\nexport function fieldGreaterOrEqual(args) {\n  return fieldSimple(_objectSpread(_objectSpread({}, args), {}, {\n    relation: 'at least'\n  }));\n}\nexport function fieldLessOrEqual(args) {\n  return fieldSimple(_objectSpread(_objectSpread({}, args), {}, {\n    relation: 'at most'\n  }));\n}\nexport function fieldLessThan(args) {\n  return fieldSimple(_objectSpread(_objectSpread({}, args), {}, {\n    relation: 'less than'\n  }));\n}\nexport function errorMissingField(_ref8) {\n  var {\n    name\n  } = _ref8;\n  return \"unknown field \\\"\".concat(name, \"\\\"\");\n}\nexport function errorMissingOperator(_ref9) {\n  var {\n    name,\n    operator\n  } = _ref9;\n  return \"can't use \\\"\".concat(operator, \"\\\" on field \\\"\").concat(name, \"\\\"\");\n}\nexport function errorWrongType(_ref10) {\n  var {\n    type,\n    value\n  } = _ref10;\n  return \"expected a \".concat(type, \", not \\\"\").concat(value, \"\\\"\");\n}\n//# sourceMappingURL=messages.js.map","import { fieldGeneric } from '../messages.js';\nexport class GenericTermHandler {\n  get(name, operator, value) {\n    return {\n      status: true,\n      describe: negated => fieldGeneric({\n        name,\n        operator,\n        value,\n        negated\n      }),\n      predicate: input => {\n        var _input, _input$includes, _input2, _input2$includes;\n\n        if (name !== '') input = (_input = input) === null || _input === void 0 ? void 0 : _input[name];\n\n        switch (operator) {\n          case '':\n          case ':':\n            return (_input$includes = (_input2 = input) === null || _input2 === void 0 ? void 0 : (_input2$includes = _input2.includes) === null || _input2$includes === void 0 ? void 0 : _input2$includes.call(_input2, value)) !== null && _input$includes !== void 0 ? _input$includes : false;\n\n          case '>':\n            return input > value;\n\n          case '>=':\n            return input >= value;\n\n          case '=':\n            return input == value;\n\n          case '<=':\n            return input <= value;\n\n          case '<':\n            return input < value;\n\n          default:\n            return false;\n        }\n      }\n    };\n  }\n\n}\n//# sourceMappingURL=GenericTermHandler.js.map","import { Parser } from './parser.js';\nimport { GenericTermHandler } from './terms/GenericTermHandler.js';\nimport * as messages from './messages.js';\nexport class InvalidNodeError extends Error {\n  constructor(astNode) {\n    super(\"Invalid AST node \".concat(JSON.stringify(astNode)));\n  }\n\n}\nexport class Schema {\n  constructor() {\n    var {\n      operators = [':', '>=', '<=', '<', '=', '>'],\n      termHandler = new GenericTermHandler(),\n      descriptors: {\n        conjunction = (_ref) => {\n          var {\n            left,\n            right\n          } = _ref;\n          return messages.conjunction({\n            left,\n            right\n          });\n        },\n        disjunction = (_ref2) => {\n          var {\n            left,\n            right\n          } = _ref2;\n          return messages.disjunction({\n            left,\n            right\n          });\n        },\n        parenthetical = (_ref3) => {\n          var {\n            expression,\n            negated\n          } = _ref3;\n          return messages.parenthetical({\n            expression,\n            negated\n          });\n        }\n      } = {}\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.parser = new Parser({\n      operators\n    });\n    this.termHandler = termHandler;\n    this.descriptors = {\n      conjunction,\n      disjunction,\n      parenthetical\n    };\n  }\n\n  query(query) {\n    var parsed = this.parse(query);\n\n    if (parsed.status) {\n      parsed.description = this.describeNode(parsed.ast);\n      parsed.predicate = this.evaluateNode(parsed.ast);\n    }\n\n    return parsed;\n  }\n\n  parse(query) {\n    var {\n      status,\n      value: ast,\n      index,\n      expected\n    } = this.parser.parse(query);\n    var errors;\n\n    if (status) {\n      errors = this.validateNode(ast);\n      status = errors.length === 0;\n    } else {\n      var subtype = 'unknown';\n      var offset = index.offset;\n\n      if (query[offset] === ')' && this.parser.parse(query.substring(0, offset)).status) {\n        subtype = 'unopened parenthetical';\n      } else if (offset === query.length && expected.includes('closing )')) {\n        subtype = 'unclosed parenthetical';\n      } else if (offset === query.length && expected.includes('closing \"')) {\n        subtype = 'unclosed quotation';\n      }\n\n      errors = [{\n        type: 'syntax',\n        index,\n        expected,\n        subtype\n      }];\n    }\n\n    return {\n      status,\n      errors,\n      ast\n    };\n  }\n\n  describe(query) {\n    return this.describeNode(this.parser.parse(query).value);\n  }\n\n  describeNode(astNode) {\n    var negated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    switch (astNode.name) {\n      case 'And':\n        return this.descriptors.conjunction({\n          left: this.describeNode(astNode.value[0]),\n          right: this.describeNode(astNode.value[1])\n        });\n\n      case 'Or':\n        return this.descriptors.disjunction({\n          left: this.describeNode(astNode.value[0]),\n          right: this.describeNode(astNode.value[1])\n        });\n\n      case 'Not':\n        return this.describeNode(astNode.value, !negated);\n\n      case 'Nil':\n        return '';\n\n      case 'Parenthetical':\n        return this.descriptors.parenthetical({\n          expression: this.describeNode(astNode.value),\n          negated\n        });\n\n      case 'Term':\n        return this.termHandler.get(...astNode.value).describe(negated);\n\n      default:\n        throw new InvalidNodeError(astNode);\n    }\n  }\n\n  validateNode(astNode) {\n    switch (astNode.name) {\n      case 'And':\n      case 'Or':\n        return [...this.validateNode(astNode.value[0]), ...this.validateNode(astNode.value[1])];\n\n      case 'Not':\n      case 'Parenthetical':\n        return this.validateNode(astNode.value);\n\n      case 'Nil':\n        return [];\n\n      case 'Term':\n        {\n          var {\n            status,\n            error\n          } = this.termHandler.get(...astNode.value);\n\n          if (status) {\n            return [];\n          } else {\n            var {\n              start,\n              end,\n              value\n            } = astNode;\n            return [{\n              type: 'field',\n              start,\n              end,\n              value,\n              message: error\n            }];\n          }\n        }\n\n      default:\n        throw new InvalidNodeError(astNode);\n    }\n  }\n\n  evaluate(query) {\n    var {\n      status,\n      value: ast\n    } = this.parser.parse(query);\n    if (!status) throw new Error(\"parse failed for \\\"\".concat(query, \"\\\"\"));\n    return this.evaluateNode(ast);\n  }\n\n  evaluateNode(astNode) {\n    switch (astNode.name) {\n      case 'And':\n        {\n          var left = this.evaluateNode(astNode.value[0]);\n          var right = this.evaluateNode(astNode.value[1]);\n          return input => left(input) && right(input);\n        }\n\n      case 'Or':\n        {\n          var _left = this.evaluateNode(astNode.value[0]);\n\n          var _right = this.evaluateNode(astNode.value[1]);\n\n          return input => _left(input) || _right(input);\n        }\n\n      case 'Not':\n        {\n          var child = this.evaluateNode(astNode.value);\n          return input => !child(input);\n        }\n\n      case 'Term':\n        return this.termHandler.get(...astNode.value).predicate;\n\n      case 'Nil':\n        return () => false;\n\n      case 'Parenthetical':\n        {\n          var _child = this.evaluateNode(astNode.value);\n\n          return input => _child(input);\n        }\n\n      default:\n        throw new InvalidNodeError(astNode);\n    }\n  }\n\n}\n//# sourceMappingURL=schema.js.map","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as messages from '../messages.js';\nexport class NumberPropertyField {\n  constructor(name, plural, property) {\n    this.name = name;\n    this.plural = plural;\n    this.property = property;\n  }\n\n  makeResponse(value, func) {\n    var castValue = /^\\s*$/.test(value) ? NaN : Number(value);\n\n    if (Number.isNaN(castValue)) {\n      return {\n        status: false,\n        error: messages.errorWrongType({\n          type: 'number',\n          value\n        })\n      };\n    } else {\n      return _objectSpread({\n        status: true\n      }, func(castValue));\n    }\n  }\n\n  makeMessageArg(_ref) {\n    var {\n      value,\n      negated\n    } = _ref;\n    return {\n      name: this.name,\n      plural: this.plural,\n      value,\n      negated\n    };\n  }\n\n  ':'(value) {\n    return this.makeResponse(value, value => ({\n      describe: negated => messages.fieldEquals(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => (input === null || input === void 0 ? void 0 : input[this.property]) === value\n    }));\n  }\n\n  '>'(value) {\n    return this.makeResponse(value, value => ({\n      describe: negated => messages.fieldGreaterThan(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => (input === null || input === void 0 ? void 0 : input[this.property]) > value\n    }));\n  }\n\n  '>='(value) {\n    return this.makeResponse(value, value => ({\n      describe: negated => messages.fieldGreaterOrEqual(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => (input === null || input === void 0 ? void 0 : input[this.property]) >= value\n    }));\n  }\n\n  '<='(value) {\n    return this.makeResponse(value, value => ({\n      describe: negated => messages.fieldLessOrEqual(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => (input === null || input === void 0 ? void 0 : input[this.property]) <= value\n    }));\n  }\n\n  '<'(value) {\n    return this.makeResponse(value, value => ({\n      describe: negated => messages.fieldLessThan(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => (input === null || input === void 0 ? void 0 : input[this.property]) < value\n    }));\n  }\n\n}\nNumberPropertyField.prototype['='] = NumberPropertyField.prototype[':'];\n//# sourceMappingURL=NumberPropertyField.js.map","import * as messages from '../messages.js';\nexport class StringPropertyField {\n  constructor(name, plural, property) {\n    var {\n      caseSensitive = true\n    } = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    this.name = name;\n    this.plural = plural;\n    this.property = property;\n    this.caseSensitive = caseSensitive;\n  }\n\n  makeMessageArg(_ref) {\n    var {\n      value,\n      negated\n    } = _ref;\n    return {\n      name: this.name,\n      plural: this.plural,\n      negated,\n      value: \"\\\"\".concat(value, \"\\\"\")\n    };\n  }\n\n  ':'(value) {\n    var casedValue = this.caseSensitive ? value : value.toUpperCase();\n    return {\n      status: true,\n      describe: negated => messages.fieldContains(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => {\n        var _actual, _actual$toUpperCase, _actual$includes, _actual2, _actual2$includes;\n\n        var actual = input === null || input === void 0 ? void 0 : input[this.property];\n        if (!this.caseSensitive) actual = (_actual = actual) === null || _actual === void 0 ? void 0 : (_actual$toUpperCase = _actual.toUpperCase) === null || _actual$toUpperCase === void 0 ? void 0 : _actual$toUpperCase.call(_actual);\n        return (_actual$includes = (_actual2 = actual) === null || _actual2 === void 0 ? void 0 : (_actual2$includes = _actual2.includes) === null || _actual2$includes === void 0 ? void 0 : _actual2$includes.call(_actual2, casedValue)) !== null && _actual$includes !== void 0 ? _actual$includes : false;\n      }\n    };\n  }\n\n  '='(value) {\n    var casedValue = this.caseSensitive ? value : value.toUpperCase();\n    return {\n      status: true,\n      describe: negated => messages.fieldEquals(this.makeMessageArg({\n        value,\n        negated\n      })),\n      predicate: input => {\n        var _actual3, _actual3$toUpperCase;\n\n        var actual = input === null || input === void 0 ? void 0 : input[this.property];\n        if (!this.caseSensitive) actual = (_actual3 = actual) === null || _actual3 === void 0 ? void 0 : (_actual3$toUpperCase = _actual3.toUpperCase) === null || _actual3$toUpperCase === void 0 ? void 0 : _actual3$toUpperCase.call(_actual3);\n        return actual === casedValue;\n      }\n    };\n  }\n\n}\n//# sourceMappingURL=StringPropertyField.js.map","var n,l,u,i,t,o,r,f,e={},c=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function h(n,l,u){var i,t=arguments,o={};for(i in l)\"key\"!==i&&\"ref\"!==i&&(o[i]=l[i]);if(arguments.length>3)for(u=[u],i=3;i<arguments.length;i++)u.push(t[i]);if(null!=u&&(o.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(i in n.defaultProps)void 0===o[i]&&(o[i]=n.defaultProps[i]);return y(n,o,l&&l.key,l&&l.ref,null)}function y(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(r.__v=r),n.vnode&&n.vnode(r),r}function p(){return{}}function d(n){return n.children}function m(n,l){this.props=n,this.context=l}function w(n,l){if(null==l)return n.__?w(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?w(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function g(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!i++||o!==n.debounceRendering)&&((o=n.debounceRendering)||t)(_)}function _(){for(var n;i=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r,f;n.__d&&(r=(o=(l=n).__v).__e,(f=l.__P)&&(u=[],(i=s({},o)).__v=i,t=z(f,o,i,l.__n,void 0!==f.ownerSVGElement,null,u,null==r?w(o):r),T(u,o),t!=r&&k(o)))})}function b(n,l,u,i,t,o,r,f,a,s){var h,p,m,k,g,_,b,x,A,P=i&&i.__k||c,C=P.length;for(a==e&&(a=null!=r?r[0]:C?w(i,0):null),u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k?y(null,k,null,null,k):Array.isArray(k)?y(d,{children:k},null,null,null):null!=k.__e||null!=k.__c?y(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(m=P[h])||m&&k.key==m.key&&k.type===m.type)P[h]=void 0;else for(p=0;p<C;p++){if((m=P[p])&&k.key==m.key&&k.type===m.type){P[p]=void 0;break}m=null}if(g=z(n,k,m=m||e,t,o,r,f,a,s),(p=k.ref)&&m.ref!=p&&(x||(x=[]),m.ref&&x.push(m.ref,null,k),x.push(p,k.__c||g,k)),null!=g){if(null==b&&(b=g),A=void 0,void 0!==k.__d)A=k.__d,k.__d=void 0;else if(r==m||g!=a||null==g.parentNode){n:if(null==a||a.parentNode!==n)n.appendChild(g),A=null;else{for(_=a,p=0;(_=_.nextSibling)&&p<C;p+=2)if(_==g)break n;n.insertBefore(g,a),A=a}\"option\"==u.type&&(n.value=\"\")}a=void 0!==A?A:g.nextSibling,\"function\"==typeof u.type&&(u.__d=a)}else a&&m.__e==a&&a.parentNode!=n&&(a=w(m))}if(u.__e=b,null!=r&&\"function\"!=typeof u.type)for(h=r.length;h--;)null!=r[h]&&v(r[h]);for(h=C;h--;)null!=P[h]&&D(P[h],P[h]);if(x)for(h=0;h<x.length;h++)j(x[h],x[++h],x[++h])}function x(n){return null==n||\"boolean\"==typeof n?[]:Array.isArray(n)?c.concat.apply([],n.map(x)):[n]}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=\"number\"==typeof u&&!1===a.test(l)?u+\"px\":null==u?\"\":u}function C(n,l,u,i,t){var o,r,f,e,c;if(t?\"className\"===l&&(l=\"class\"):\"class\"===l&&(l=\"className\"),\"style\"===l)if(o=n.style,\"string\"==typeof u)o.cssText=u;else{if(\"string\"==typeof i&&(o.cssText=\"\",i=null),i)for(e in i)u&&e in u||P(o,e,\"\");if(u)for(c in u)i&&u[c]===i[c]||P(o,c,u[c])}else\"o\"===l[0]&&\"n\"===l[1]?(r=l!==(l=l.replace(/Capture$/,\"\")),f=l.toLowerCase(),l=(f in n?f:l).slice(2),u?(i||n.addEventListener(l,N,r),(n.l||(n.l={}))[l]=u):n.removeEventListener(l,N,r)):\"list\"!==l&&\"tagName\"!==l&&\"form\"!==l&&\"type\"!==l&&\"size\"!==l&&!t&&l in n?n[l]=null==u?\"\":u:\"function\"!=typeof u&&\"dangerouslySetInnerHTML\"!==l&&(l!==(l=l.replace(/^xlink:?/,\"\"))?null==u||!1===u?n.removeAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase()):n.setAttributeNS(\"http://www.w3.org/1999/xlink\",l.toLowerCase(),u):null==u||!1===u&&!/^ar/.test(l)?n.removeAttribute(l):n.setAttribute(l,u))}function N(l){this.l[l.type](n.event?n.event(l):l)}function z(l,u,i,t,o,r,f,e,c){var a,v,h,y,p,w,k,g,_,x,A,P=u.type;if(void 0!==u.constructor)return null;(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,_=(a=P.contextType)&&t[a.__c],x=a?_?_.props.value:a.__:t,i.__c?k=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new m(g,x),v.constructor=P,v.render=E),_&&_.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=s({},v.__s)),s(v.__s,P.getDerivedStateFromProps(g,v.__s))),y=v.props,p=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==y&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){for(v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,v.__h.length&&f.push(v),a=0;a<u.__k.length;a++)u.__k[a]&&(u.__k[a].__=u);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(y,p,w)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),null!=v.getChildContext&&(t=s(s({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(w=v.getSnapshotBeforeUpdate(y,p)),A=null!=a&&a.type==d&&null==a.key?a.props.children:a,b(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,c),v.base=u.__e,v.__h.length&&f.push(v),k&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=$(i.__e,u,i,t,o,r,f,c);(a=n.diffed)&&a(u)}catch(l){u.__v=null,n.__e(l,u,i)}return u.__e}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function $(n,l,u,i,t,o,r,f){var a,s,v,h,y,p=u.props,d=l.props;if(t=\"svg\"===l.type||t,null!=o)for(a=0;a<o.length;a++)if(null!=(s=o[a])&&((null===l.type?3===s.nodeType:s.localName===l.type)||n==s)){n=s,o[a]=null;break}if(null==n){if(null===l.type)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",l.type):document.createElement(l.type,d.is&&{is:d.is}),o=null,f=!1}if(null===l.type)p!==d&&n.data!=d&&(n.data=d);else{if(null!=o&&(o=c.slice.call(n.childNodes)),v=(p=u.props||e).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!f){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&v&&h.__html==v.__html||(n.innerHTML=h&&h.__html||\"\"))}A(n,d,p,t,f),h?l.__k=[]:(a=l.props.children,b(n,Array.isArray(a)?a:[a],l,u,i,\"foreignObject\"!==l.type&&t,o,r,e,f)),f||(\"value\"in d&&void 0!==(a=d.value)&&a!==n.value&&C(n,\"value\",a,p.value,!1),\"checked\"in d&&void 0!==(a=d.checked)&&a!==n.checked&&C(n,\"checked\",a,p.checked,!1))}return n}function j(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function D(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||j(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&D(t[r],u,i);null!=o&&v(o)}function E(n,l,u){return this.constructor(n,u)}function H(l,u,i){var t,o,f;n.__&&n.__(l,u),o=(t=i===r)?null:i&&i.__k||u.__k,l=h(d,null,[l]),f=[],z(u,(t?u:i||u).__k=l,o||e,e,void 0!==u.ownerSVGElement,i&&!t?[i]:o?null:u.childNodes.length?c.slice.call(u.childNodes):null,f,i||e,t),T(f,l)}function I(n,l){H(n,l,r)}function L(n,l){var u,i;for(i in l=s(s({},n.props),l),arguments.length>2&&(l.children=c.slice.call(arguments,2)),u={},l)\"key\"!==i&&\"ref\"!==i&&(u[i]=l[i]);return y(n.type,u,l.key||n.key,l.ref||n.ref,null)}function M(n){var l={},u={__c:\"__cC\"+f++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var i,t=this;return this.getChildContext||(i=[],this.getChildContext=function(){return l[u.__c]=t,l},this.shouldComponentUpdate=function(n){t.props.value!==n.value&&i.some(function(l){l.context=n.value,g(l)})},this.sub=function(n){i.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){i.splice(i.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Consumer.contextType=u,u.Provider.__=u,u}n={__e:function(n,l){for(var u,i;l=l.__;)if((u=l.__c)&&!u.__)try{if(u.constructor&&null!=u.constructor.getDerivedStateFromError&&(i=!0,u.setState(u.constructor.getDerivedStateFromError(n))),null!=u.componentDidCatch&&(i=!0,u.componentDidCatch(n)),i)return g(u.__E=u)}catch(l){n=l}throw n}},l=function(n){return null!=n&&void 0===n.constructor},m.prototype.setState=function(n,l){var u;u=this.__s!==this.state?this.__s:this.__s=s({},this.state),\"function\"==typeof n&&(n=n(u,this.props)),n&&s(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),g(this))},m.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),g(this))},m.prototype.render=d,u=[],i=0,t=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,r=e,f=0;export{H as render,I as hydrate,h as createElement,h,d as Fragment,p as createRef,l as isValidElement,m as Component,L as cloneElement,M as createContext,x as toChildArray,D as _unmount,n as options};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import{h as r,Component as o,render as t}from\"preact\";export{h,render,Component}from\"preact\";import e from\"htm\";var m=e.bind(r);export{m as html};\n","import { html } from 'htm/preact';\n\nexport function ErrorDescription({error}) {\n  if (error.type === 'field') {\n    return FieldError({...error});\n  } else if (error.type === 'syntax') {\n    return SyntaxError({...error});\n  } else {\n    console.error('unknown type of query error', error);\n    return false;\n  }\n}\n\nexport function FieldError({start, end, value, message}) {\n  return html`\n    <p class=\"query-error error-type-field\">\n      Malformed field '${value}': ${message}\n    </p>\n  `;\n}\n\nexport function SyntaxError({subtype, index: {offset, line, column}, expected}) {\n  return html`\n    <p class=\"query-error error-type-field\">\n      Syntax error: ${subtype}\n    </p>\n  `;\n}\n","import { html } from 'htm/preact';\n\nexport function QueryDescription({description, count}) {\n  return html`\n    <p class=\"query-description\">\n      <strong class=\"card-count\">${count} cards</strong> where ${description}.\n    </p>\n  `;\n}\n","import { html } from 'htm/preact';\nimport { renderTypes } from '../utils.js';\nimport sideAliases from '../../data/cardSideStrings.json';\n\nexport function CardTypeLine({card}) {\n  return html`\n    ${card.ops !== null && html`<span class=\"card-ops\">${card.ops} OPS</span>`}\n    ${' '}\n    <span class=\"card-side\">${sideAliases[card.side]}</span>\n    ${' '}\n    Event\n    ${card.types.length > 0 && html`  <span class=\"card-types\">\n      ${renderTypes(card.types)}\n    </span>`}\n  `;\n}\n","import typeAliases from '../data/cardTypeStrings.json';\n\nexport function renderTypes(types) {\n  return types.map(type => typeAliases[type]).join(', ');\n}\n\nexport function groupBy(fn, iterable) {\n  const groups = new Map();\n  for (let item of iterable) {\n    const key = fn(item);\n    if (groups.has(key)) {\n      groups.get(key).push(item);\n    } else {\n      groups.set(key, [item]);\n    }\n  }\n  return [...groups.values()];\n}\n\nexport function listJoin(strings) {\n  if (strings.length < 2) {\n    return strings.join('');\n  } else if (strings.length == 2) {\n    return strings.join(' or ');\n  } else {\n    return (\n      strings.slice(0, -1).join(', ')\n      + ', or '\n      + strings[strings.length - 1]\n    );\n  }\n}\n","import { html } from 'htm/preact';\nimport { CardTypeLine } from './CardTypeLine.js';\n\nfunction initialCaptial(word) {\n  return word.substring(0, 1).toUpperCase() + word.substring(1).toLowerCase();\n}\n\nexport function CardBoxSmall({card}) {\n  return html`\n  <a href=${card.permalink} class=\"card small ${card.version}${card.match ? ' match' : ''}\">\n    <h2 class=\"card-titleline\">\n      <span class=\"card-number\">${String(card.number).padStart(3, '0')}</span>\n      -\n      <span class=\"card-period\">${card.period}</span>\n      ${' '}\n      <span class=\"card-title\">${card.name}</span>\n      ${' '}\n      <span class=\"card-version\">(${initialCaptial(card.version)})</span>\n    </h2>\n    <p class=\"card-typeline\">\n      <${CardTypeLine} card=${card} />\n    </p>\n    <!-- TODO: find a way to render html from a string without\n    dangerouslySetInnerHTML. htm unfortunately does not unescape html entities\n    -->\n     <!-- TODO: can we at least check subresource integrity on the fetched card\n     index? -->\n    <div class=\"card-text\" dangerouslySetInnerHTML=${{__html: card.htmlContent}}>\n    </div>\n  </a>\n  `;\n}\n","import { html } from 'htm/preact';\nimport { CardBoxSmall } from './CardBoxSmall.js';\n\nexport function SearchResultList({results}) {\n  return html`<ul class=\"card-list\">\n    ${results.map(\n      (cards) => html`<${SearchResult} cards=${cards} />`\n    )}\n  </ul>`;\n}\n\nexport function SearchResult({cards}) {\n  const oracle = cards.filter(c => c.version === 'oracle')[0];\n  const printed = cards.filter(c => c.version === 'printed')[0];\n  return html`<li>\n    <div class=\"flex-gutter-wrapper\">\n      <${CardBoxSmall} card=${oracle} />\n      <${CardBoxSmall} card=${printed} />\n    </div>\n  </li>`;\n}\n","import { Schema, FieldTermHandler, NumberPropertyField, StringPropertyField } from 'crystal-query';\nimport { render } from 'preact';\nimport { html } from 'htm/preact';\nimport sideAliases from '../data/cardSideStrings.json';\nimport * as utils from './utils.js';\nimport { CardTypeField } from './fields/CardTypeField.js';\nimport { CardSideField } from './fields/CardSideField.js';\nimport { CardPeriodField } from './fields/CardPeriodField.js';\nimport { AnyField } from './fields/AnyField.js';\nimport { ErrorDescription } from './components/ErrorDescription.js';\nimport { QueryDescription } from './components/QueryDescription.js';\nimport { SearchResultList } from './components/SearchResultList.js';\n\nconst fields = {\n  number: new NumberPropertyField('the card number', false, 'number'),\n  name: new StringPropertyField('the name', false, 'name', {caseSensitive: false}),\n  version: new StringPropertyField('the version', false, 'version', {caseSensitive: false}),\n  ops: new NumberPropertyField('the operations value', false, 'ops'),\n  types: new CardTypeField(),\n  text: new StringPropertyField('the text', false, 'plainContent', {caseSensitive: false}),\n  side: new CardSideField(),\n  period: new CardPeriodField()\n};\nfields[''] = new AnyField('any field', false, Object.values(fields));\n\nconst schema = new Schema({\n  termHandler: new FieldTermHandler(fields)\n});\n\nfunction showSyntax() {\n  document.getElementById('search-syntax').style.display = 'block';\n}\n\nfunction getSearchString() {\n  return new URLSearchParams(location.search).get('q');\n}\n\nconst resultsElem = document.getElementById('search-results');\nconst searchInput = document.getElementById('search-text-input');\nconst query = getSearchString();\n\nif (query === null) {\n  showSyntax();\n} else {\n  searchInput.value = query;\n  const cardsP = fetch('/cards/index.json').then(resp => resp.json());\n  const {status, description, predicate, errors} = schema.query(query);\n  if (!status) {\n    render(\n      html`${errors.map(error => ErrorDescription({error}))}`,\n      resultsElem\n    );\n    showSyntax();\n  } else {\n    (async () => {\n      const cards = (await cardsP).map(card => {\n        card.match = predicate(card);\n        return card;\n      });\n      const groups = utils.groupBy(card => card.number, cards);\n      const results = groups\n        .filter(group => group.some(card => card.match))\n        .sort((a, b) => a[0].number - b[0].number);\n      const count = results.length;\n      render(\n        html`\n          <${QueryDescription} description=${description} count=${count} />\n          <${SearchResultList} results=${results} />\n        `,\n        resultsElem\n      );\n    })();\n  }\n}\n","import { StringArrayPropertyField } from 'crystal-query';\nimport typeAliases from '../../data/cardTypeStrings.json';\n\nexport class CardTypeField extends StringArrayPropertyField {\n  constructor() {\n    super('the types', true, 'types', {caseSensitive: false});\n  }\n  ':'(value) {\n    const superField = super[':'](value);\n    return {\n      status: true,\n      describe: superField.describe,\n      predicate: (input) => superField.predicate({\n        types: input.types.map(type => typeAliases[type])\n      })\n    };\n  }\n}\n","import * as messages from '../messages.js';\nexport class StringArrayPropertyField {\n  constructor(name, plural, property) {\n    var {\n      caseSensitive = true\n    } = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    this.name = name;\n    this.plural = plural;\n    this.property = property;\n    this.caseSensitive = caseSensitive;\n  }\n\n  ':'(value) {\n    var casedValue = this.caseSensitive ? value : value.toUpperCase();\n    return {\n      status: true,\n      describe: negated => messages.fieldContains({\n        name: this.name,\n        plural: this.plural,\n        negated,\n        value: \"\\\"\".concat(value, \"\\\"\")\n      }),\n      predicate: input => input[this.property].some(item => {\n        var _item$toUpperCase, _casedItem$includes;\n\n        var casedItem = this.caseSensitive ? item : item === null || item === void 0 ? void 0 : (_item$toUpperCase = item.toUpperCase) === null || _item$toUpperCase === void 0 ? void 0 : _item$toUpperCase.call(item);\n        return casedItem === null || casedItem === void 0 ? void 0 : (_casedItem$includes = casedItem.includes) === null || _casedItem$includes === void 0 ? void 0 : _casedItem$includes.call(casedItem, casedValue);\n      })\n    };\n  }\n\n}\n//# sourceMappingURL=StringArrayPropertyField.js.map","import { StringPropertyField } from 'crystal-query';\nimport sideAliases from '../../data/cardSideStrings.json';\n\nexport class CardSideField extends StringPropertyField {\n  constructor() {\n    super('the side', false, 'side', {caseSensitive: false});\n  }\n  ':'(value) {\n    const superField = super[':'](value);\n    return {\n      status: true,\n      describe: superField.describe,\n      predicate: (input) => superField.predicate({side: sideAliases[input.side]})\n    }\n  }\n  '='(value) {\n    const superField = super['='](value);\n    return {\n      status: true,\n      describe: superField.describe,\n      predicate: (input) => superField.predicate({side: sideAliases[input.side]})\n    }\n  }\n}\n","import { StringPropertyField } from 'crystal-query';\nimport periodAliases from '../../data/cardPeriodStrings.json';\n\nexport class CardPeriodField extends StringPropertyField {\n  constructor() {\n    super('the period', false, 'period', {caseSensitive: false});\n  }\n  ':'(value) {\n    const superField = super[':'](value);\n    return {\n      status: true,\n      describe: superField.describe,\n      predicate: (input) => superField.predicate({period: periodAliases[input.period]})\n    }\n  }\n  '='(value) {\n    const superField = super['='](value)\n    const result = {...superField};\n    if (value.length > 1) {\n      result.predicate = (input) => superField.predicate({period: periodAliases[input.period]})\n    }\n    return result;\n  }\n}\n","import { messages } from 'crystal-query';\n\nexport class AnyField {\n  constructor(name, plural, fields, {\n    operators = [':', '>', '>=', '=', '<=', '<'],\n    descriptors = {},\n    defaultOperator = ':'\n  } = {}) {\n    this.name = name;\n    this.plural = plural;\n    this.fields = fields;\n    descriptors = Object.assign({\n      ':': messages.fieldContains,\n      '>': messages.fieldGreaterThan,\n      '>=': messages.fieldGreaterOrEqual,\n      '=': messages.fieldEquals,\n      '<=': messages.fieldLessOrEqual,\n      '<': messages.fieldLessThan\n    }, descriptors);\n    for (let operator of operators) {\n      this[operator] = function (value) {\n        const results = [];\n        for (let field of this.fields) {\n          if (operator in field) {\n            const result = field[operator](value);\n            if (result.status) {\n              results.push(result);\n            }\n          }\n        }\n        return {\n          status: true,\n          describe: (negated) =>\n            descriptors[operator](this.makeMessageArg({value, negated})),\n          predicate: (input) => results.some(({predicate}) => predicate(input))\n        };\n      }\n    }\n    if (defaultOperator !== false) {\n      this[''] = this[defaultOperator];\n    }\n  }\n  makeMessageArg({value, negated}) {\n    return {name: this.name, plural: this.plural, negated, value: `\"${value}\"`}\n  }\n}\n","import * as messages from '../messages.js';\nexport class FieldTermHandler {\n  constructor(fields) {\n    var {\n      errors: {\n        missingField = messages.errorMissingField,\n        missingOperator = messages.errorMissingOperator\n      } = {}\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.fields = fields;\n    this.errorDesciptors = {\n      missingField,\n      missingOperator\n    };\n  }\n\n  get(name, operator, value) {\n    if (!this.fields[name]) {\n      return {\n        status: false,\n        error: this.errorDesciptors.missingField({\n          name\n        })\n      };\n    } else if (!this.fields[name][operator]) {\n      return {\n        status: false,\n        error: this.errorDesciptors.missingOperator({\n          name,\n          operator\n        })\n      };\n    } else {\n      return this.fields[name][operator](value);\n    }\n  }\n\n}\n//# sourceMappingURL=FieldTermHandler.js.map"],"names":["Parsimmon","action","this","_","prototype","times","n","f","i","reduce","seed","arr","length","forEach","elem","map","acc","a","concat","lshiftBuffer","input","asTwoBytes","v","b","Buffer","from","readUInt16BE","x","bitPeekBuffer","bufferExists","ensureBuffer","Error","bitSeq","alignments","totalBits","y","join","pred","bytes","tooBigRange","found","newPos","makeFailure","toString","makeSuccess","bits","state","buf","consumeBitsFromBuffer","coll","slice","parseBufferFor","other","assertValidIntegerByteLengthFor","who","value","Math","floor","uintBE","buff","readUIntBE","uintLE","readUIntLE","intBE","readIntBE","intLE","readIntLE","toArray","arrLike","Array","call","isParser","obj","isArray","isBuffer","index","status","furthest","expected","mergeReplies","result","last","xs","ys","undefined","_supportsSet","exists","Set","setExists","set","add","sort","j","keys","k","hasOwnProperty","push","union","lastLineColumnIndex","makeLineColumnIndex","offset","line","column","lines","split","assertParser","p","get","charAt","assertNumber","assertRegexp","RegExp","flags","c","assertFunction","assertString","repeat","string","amount","leftPad","str","pad","char","rangeFromIndexAndOffsets","before","after","to","formatGot","error","lineWithErrorIndex","lineRange","lastLineNumberLabelLength","verticalMarkerLength","byteLineWithErrorIndex","columnByteIndex","byteRange","bytesPerLine","bytesAfter","byteLines","byteRow","byteValue","chunkSize","chunks","chunkIndex","toChunks","toJSON","data","byteRangeToRange","byteLine","inputLines","lineWithErrorCurrentIndex","lineSource","lineNumberLabel","isLineWithError","prefix","formatError","re","s","lastIndexOf","anchoredRegexp","source","seq","parsers","arguments","numParsers","accum","seqMap","args","mapper","pop","apply","results","alt","fail","sepBy","parser","separator","sepBy1","or","succeed","then","many","r","rs","head","regexp","group","anchored","match","exec","fullMatch","groupMatch","lookahead","notFollowedBy","text","test","predicate","lazy","desc","empty","parse","skip","eof","tryParse","msg","err","type","assert","condition","errorMessage","chain","alternative","trim","wrap","leftParser","rightParser","left","middle","thru","wrapper","next","self","tieWith","assertArray","tie","min","max","prevResult","res","atMost","atLeast","init","rest","fn","contramap","promap","g","mark","start","end","node","name","reply","fallback","ap","of","any","all","digit","digits","letter","letters","optWhitespace","whitespace","cr","lf","crlf","newline","createLanguage","language","key","custom","parsingFunction","noneOf","ch","indexOf","oneOf","idx","Parser","range","begin","regex","seqObj","seenKeys","totalKeys","isWellFormed","Object","takeWhile","Binary","bitSeqObj","namedAlignments","fullAlignments","item","pair","namesOnly","parsed","kv","byte","buffer","unsafe","encodedString","encoding","uint8BE","uint16BE","uint32BE","uint8LE","uint16LE","uint32LE","int8BE","int16BE","int32BE","int8LE","int16LE","int32LE","floatBE","readFloatBE","floatLE","readFloatLE","doubleBE","readDoubleBE","doubleLE","readDoubleLE","makeParser","parsimmon","[object Object]","operators","operator","and","l","word","not","keyword","lparen","rparen","wordTerminator","quote","identifier","escaped","phrase","quoted","term","nil","parenthetical","expression","basic","negation","conjunction","disjunction","query","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","configurable","writable","_ref2","right","_ref3","_ref4","negated","fieldContains","_ref5","verb","plural","fieldEquals","_ref6","fieldSimple","_ref7","relation","fieldGreaterThan","fieldGreaterOrEqual","fieldLessOrEqual","fieldLessThan","errorMissingField","_ref8","errorMissingOperator","_ref9","errorWrongType","_ref10","GenericTermHandler","describe","_ref","fieldGeneric","_input","_input$includes","_input2","_input2$includes","includes","InvalidNodeError","astNode","super","JSON","stringify","NumberPropertyField","property","func","castValue","NaN","Number","isNaN","messages.errorWrongType","makeResponse","messages.fieldEquals","makeMessageArg","messages.fieldGreaterThan","messages.fieldGreaterOrEqual","messages.fieldLessOrEqual","messages.fieldLessThan","StringPropertyField","caseSensitive","casedValue","toUpperCase","messages.fieldContains","_actual","_actual$toUpperCase","_actual$includes","_actual2","_actual2$includes","actual","_actual3","_actual3$toUpperCase","u","t","o","e","parentNode","removeChild","h","children","defaultProps","ref","props","__k","__","__b","__e","__d","__c","constructor","__v","vnode","d","m","context","w","base","debounceRendering","some","__P","z","__n","ownerSVGElement","T","A","P","C","appendChild","nextSibling","insertBefore","D","setProperty","style","cssText","replace","toLowerCase","addEventListener","N","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","event","contextType","__E","render","E","sub","__h","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","__r","getChildContext","getSnapshotBeforeUpdate","$","diffed","nodeType","localName","document","createTextNode","createElementNS","createElement","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","current","unmount","componentWillUnmount","H","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","bind","resolve","setTimeout","assign","Map","ErrorDescription","message","html","FieldError","subtype","SyntaxError","console","QueryDescription","description","count","CardTypeLine","card","ops","sideAliases","side","types","typeAliases","CardBoxSmall","permalink","version","String","number","padStart","period","substring","htmlContent","SearchResultList","cards","SearchResult","oracle","printed","fields","_item$toUpperCase","_casedItem$includes","casedItem","superField","periodAliases","descriptors","defaultOperator",":",">",">=","=","<=","<","field","values","schema","termHandler","messages.conjunction","messages.disjunction","messages.parenthetical","describeNode","ast","evaluateNode","errors","validateNode","_left","_right","child","_child","missingField","messages.errorMissingField","missingOperator","messages.errorMissingOperator","errorDesciptors","showSyntax","getElementById","display","resultsElem","searchInput","URLSearchParams","location","search","cardsP","fetch","resp","json","iterable","groups","has","utils.groupBy"],"mappings":"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"}